
.audit\schema_local.sql:4175:CREATE POLICY "Admin pode ver todos os logs" ON "public"."system_logs" FOR SELECT USING ((EXISTS ( SELECT 1
.audit\schema_local.sql:4181:CREATE POLICY "Administrators can add logs for any user" ON "public"."system_logs" FOR INSERT TO "authenticated" WITH CHECK ((EXISTS ( SELECT 1
.audit\schema_local.sql:4187:CREATE POLICY "Administrators can view all logs" ON "public"."system_logs" FOR SELECT TO "authenticated" USING ((EXISTS ( SELECT 1
.audit\schema_local.sql:4193:CREATE POLICY "Allow admin to manage academies" ON "public"."academies" USING ("public"."is_admin"()) WITH CHECK ("public"."is_admin"());
.audit\schema_local.sql:4197:CREATE POLICY "Allow admin to manage automations" ON "public"."automations" TO "authenticated" USING ("public"."is_admin"()) WITH CHECK ("public"."is_admin"());
.audit\schema_local.sql:4201:CREATE POLICY "Allow admin to manage integrations" ON "public"."integrations" USING ("public"."is_admin"()) WITH CHECK ("public"."is_admin"());
.audit\schema_local.sql:4205:CREATE POLICY "Allow admin to manage plans" ON "public"."plans" USING ("public"."is_admin"()) WITH CHECK ("public"."is_admin"());
.audit\schema_local.sql:4209:CREATE POLICY "Allow admin to manage rewards" ON "public"."rewards" USING ("public"."is_admin"()) WITH CHECK ("public"."is_admin"());
.audit\schema_local.sql:4213:CREATE POLICY "Allow admin to manage settings" ON "public"."app_settings" USING ("public"."is_admin"()) WITH CHECK ("public"."is_admin"());
.audit\schema_local.sql:4217:CREATE POLICY "Allow admins to insert redemptions" ON "public"."redemption_history" FOR INSERT WITH CHECK ("public"."is_admin"());
.audit\schema_local.sql:4221:CREATE POLICY "Allow admins to manage all affiliates" ON "public"."affiliates" TO "authenticated" USING ("public"."is_admin"()) WITH CHECK ("public"."is_admin"());
.audit\schema_local.sql:4225:CREATE POLICY "Allow admins to manage all conversations" ON "public"."conversations" USING ("public"."is_admin"()) WITH CHECK ("public"."is_admin"());
.audit\schema_local.sql:4229:CREATE POLICY "Allow admins to manage all payout requests" ON "public"."payout_requests" USING ("public"."is_admin"()) WITH CHECK ("public"."is_admin"());
.audit\schema_local.sql:4233:CREATE POLICY "Allow admins to manage all posts" ON "public"."community_posts" USING ("public"."is_admin"());
.audit\schema_local.sql:4237:CREATE POLICY "Allow admins to view all integrations" ON "public"."user_integrations" FOR SELECT USING ("public"."is_admin"());
.audit\schema_local.sql:4241:CREATE POLICY "Allow admins to view all redemptions" ON "public"."redemption_history" FOR SELECT USING ("public"."is_admin"());
.audit\schema_local.sql:4245:CREATE POLICY "Allow admins to view all user metrics" ON "public"."user_metrics" FOR SELECT USING ("public"."is_admin"());
.audit\schema_local.sql:4249:CREATE POLICY "Allow authenticated users to insert their own metrics" ON "public"."user_metrics" FOR INSERT WITH CHECK (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4253:CREATE POLICY "Allow authenticated users to manage plans" ON "public"."plans" USING (("auth"."role"() = 'authenticated'::"text"));
.audit\schema_local.sql:4257:CREATE POLICY "Allow authenticated users to manage rewards" ON "public"."rewards" USING (("auth"."role"() = 'authenticated'::"text"));
.audit\schema_local.sql:4261:CREATE POLICY "Allow authenticated users to read active plans" ON "public"."plans" FOR SELECT TO "authenticated" USING (("is_active" = true));
.audit\schema_local.sql:4265:CREATE POLICY "Allow authenticated users to read active rewards" ON "public"."rewards" FOR SELECT USING ((("auth"."role"() = 'authenticated'::"text") AND ("is_active" = true)));
.audit\schema_local.sql:4269:CREATE POLICY "Allow authenticated users to read all profiles" ON "public"."profiles" FOR SELECT TO "authenticated" USING (true);
.audit\schema_local.sql:4273:CREATE POLICY "Allow authenticated users to read automations" ON "public"."automations" FOR SELECT TO "authenticated" USING (true);
.audit\schema_local.sql:4277:CREATE POLICY "Allow authenticated users to read their own metrics" ON "public"."user_metrics" FOR SELECT USING (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4281:CREATE POLICY "Allow authenticated users to update their own metrics" ON "public"."user_metrics" FOR UPDATE USING (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4285:CREATE POLICY "Allow full access for service role" ON "public"."profiles" USING (("auth"."role"() = 'service_role'::"text")) WITH CHECK (("auth"."role"() = 'service_role'::"text"));
.audit\schema_local.sql:4289:CREATE POLICY "Allow individual read access" ON "public"."profiles" FOR SELECT USING ((( SELECT "auth"."uid"() AS "uid") = "id"));
.audit\schema_local.sql:4293:CREATE POLICY "Allow individual update access" ON "public"."profiles" FOR UPDATE USING ((( SELECT "auth"."uid"() AS "uid") = "id")) WITH CHECK ((( SELECT "auth"."uid"() AS "uid") = "id"));
.audit\schema_local.sql:4297:CREATE POLICY "Allow partners to manage their own payout requests" ON "public"."payout_requests" USING (("auth"."uid"() = "partner_id"));
.audit\schema_local.sql:4301:CREATE POLICY "Allow partners to view affiliates" ON "public"."affiliates" FOR SELECT TO "authenticated" USING ((EXISTS ( SELECT 1
.audit\schema_local.sql:4307:CREATE POLICY "Allow public read access on events" ON "public"."gamification_events" FOR SELECT USING (true);
.audit\schema_local.sql:4311:CREATE POLICY "Allow public read access on leaderboards" ON "public"."leaderboards" FOR SELECT USING (true);
.audit\schema_local.sql:4315:CREATE POLICY "Allow public read access on plans" ON "public"."plans" FOR SELECT USING (true);
.audit\schema_local.sql:4319:CREATE POLICY "Allow public read access on rewards" ON "public"."rewards" FOR SELECT USING (true);
.audit\schema_local.sql:4323:CREATE POLICY "Allow public read access to active affiliates" ON "public"."affiliates" FOR SELECT TO "authenticated", "anon" USING (("active" = true));
.audit\schema_local.sql:4327:CREATE POLICY "Allow public read on stripe_events" ON "public"."stripe_events" FOR SELECT USING (true);
.audit\schema_local.sql:4331:CREATE POLICY "Allow service_role to insert webhooks" ON "public"."stripe_webhooks" FOR INSERT WITH CHECK (("auth"."role"() = 'service_role'::"text"));
.audit\schema_local.sql:4335:CREATE POLICY "Allow users to delete their own likes" ON "public"."post_likes" FOR DELETE USING (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4339:CREATE POLICY "Allow users to delete their own posts" ON "public"."community_posts" FOR DELETE USING (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4343:CREATE POLICY "Allow users to insert their own conversations" ON "public"."conversations" FOR INSERT WITH CHECK (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4347:CREATE POLICY "Allow users to insert their own likes" ON "public"."post_likes" FOR INSERT WITH CHECK (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4351:CREATE POLICY "Allow users to insert their own posts" ON "public"."community_posts" FOR INSERT WITH CHECK (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4355:CREATE POLICY "Allow users to insert their own redemptions" ON "public"."redemption_history" FOR INSERT WITH CHECK (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4359:CREATE POLICY "Allow users to manage their own integrations" ON "public"."user_integrations" USING (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4363:CREATE POLICY "Allow users to read all likes" ON "public"."post_likes" FOR SELECT USING (true);
.audit\schema_local.sql:4367:CREATE POLICY "Allow users to read all posts" ON "public"."community_posts" FOR SELECT USING (true);
.audit\schema_local.sql:4371:CREATE POLICY "Allow users to read their own conversations" ON "public"."conversations" FOR SELECT USING (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4375:CREATE POLICY "Allow users to update their own posts" ON "public"."community_posts" FOR UPDATE USING (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4379:CREATE POLICY "Allow users to view their own redemptions" ON "public"."redemption_history" FOR SELECT USING (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4383:CREATE POLICY "Enable read access for all users" ON "public"."academies" FOR SELECT USING (true);
.audit\schema_local.sql:4387:CREATE POLICY "Enable read access for all users" ON "public"."affiliate_clicks" FOR SELECT USING (true);
.audit\schema_local.sql:4391:CREATE POLICY "Enable read access for all users" ON "public"."affiliate_commissions" FOR SELECT USING (true);
.audit\schema_local.sql:4395:CREATE POLICY "Enable read access for all users" ON "public"."affiliate_conversions" FOR SELECT USING (true);
.audit\schema_local.sql:4399:CREATE POLICY "Enable read access for all users" ON "public"."affiliate_links" FOR SELECT USING (true);
.audit\schema_local.sql:4403:CREATE POLICY "Enable read access for all users" ON "public"."ai_users" FOR SELECT USING (true);
.audit\schema_local.sql:4407:CREATE POLICY "Enable read access for all users" ON "public"."automations" FOR SELECT USING (true);
.audit\schema_local.sql:4411:CREATE POLICY "Enable read access for all users" ON "public"."badges" FOR SELECT USING (true);
.audit\schema_local.sql:4415:CREATE POLICY "Enable read access for all users" ON "public"."nutrition_plans" FOR SELECT USING (true);
.audit\schema_local.sql:4419:CREATE POLICY "Enable read access for all users" ON "public"."user_badges" FOR SELECT USING (true);
.audit\schema_local.sql:4423:CREATE POLICY "Insert own profile" ON "public"."user_profiles" FOR INSERT TO "authenticated" WITH CHECK (("id" = "auth"."uid"()));
.audit\schema_local.sql:4427:CREATE POLICY "Only administrators can delete logs" ON "public"."system_logs" FOR DELETE TO "authenticated" USING ((EXISTS ( SELECT 1
.audit\schema_local.sql:4433:CREATE POLICY "Only administrators can update logs" ON "public"."system_logs" FOR UPDATE TO "authenticated" USING ((EXISTS ( SELECT 1
.audit\schema_local.sql:4441:CREATE POLICY "Only admins can view error logs" ON "public"."error_logs" FOR SELECT USING ((( SELECT 1
.audit\schema_local.sql:4451:CREATE POLICY "Public read access" ON "public"."ai_coach_actions" FOR SELECT USING (true);
.audit\schema_local.sql:4455:CREATE POLICY "Public read access" ON "public"."ai_coach_settings" FOR SELECT USING (true);
.audit\schema_local.sql:4459:CREATE POLICY "Public read access" ON "public"."ai_nudges" FOR SELECT USING (true);
.audit\schema_local.sql:4463:CREATE POLICY "Public read access" ON "public"."habits" FOR SELECT USING (true);
.audit\schema_local.sql:4467:CREATE POLICY "Public read access" ON "public"."inbound_events" FOR SELECT USING (true);
.audit\schema_local.sql:4471:CREATE POLICY "Public read access" ON "public"."integrations_evolution" FOR SELECT USING (true);
.audit\schema_local.sql:4475:CREATE POLICY "Public read access" ON "public"."integrations_whatsapp" FOR SELECT USING (true);
.audit\schema_local.sql:4479:CREATE POLICY "Public read habit logs" ON "public"."habit_logs" FOR SELECT USING (true);
.audit\schema_local.sql:4483:CREATE POLICY "Read own profile" ON "public"."user_profiles" FOR SELECT TO "authenticated" USING (("id" = "auth"."uid"()));
.audit\schema_local.sql:4487:CREATE POLICY "Service role can create profiles" ON "public"."profiles" FOR INSERT TO "service_role" WITH CHECK (true);
.audit\schema_local.sql:4491:CREATE POLICY "Service role can manage activity_tracking" ON "public"."activity_tracking" USING (("auth"."role"() = 'service_role'::"text"));
.audit\schema_local.sql:4495:CREATE POLICY "Service role can manage conversation_history" ON "public"."conversation_history" USING (("auth"."role"() = 'service_role'::"text"));
.audit\schema_local.sql:4499:CREATE POLICY "Service role can manage user_achievements" ON "public"."user_achievements" USING (("auth"."role"() = 'service_role'::"text"));
.audit\schema_local.sql:4503:CREATE POLICY "Service role can manage whatsapp_messages" ON "public"."whatsapp_messages" USING (("auth"."role"() = 'service_role'::"text"));
.audit\schema_local.sql:4507:CREATE POLICY "Service role full access" ON "public"."affiliates" TO "service_role" USING (true) WITH CHECK (true);
.audit\schema_local.sql:4511:CREATE POLICY "Service role manage billing_subscriptions" ON "public"."billing_subscriptions" USING (("auth"."role"() = 'service_role'::"text"));
.audit\schema_local.sql:4515:CREATE POLICY "Serviços podem gerenciar logs" ON "public"."system_logs" USING (("auth"."role"() = 'service_role'::"text"));
.audit\schema_local.sql:4519:CREATE POLICY "System can insert error logs" ON "public"."error_logs" FOR INSERT WITH CHECK (true);
.audit\schema_local.sql:4523:CREATE POLICY "Update own profile" ON "public"."user_profiles" FOR UPDATE TO "authenticated" USING (("id" = "auth"."uid"()));
.audit\schema_local.sql:4527:CREATE POLICY "Users can add their own logs" ON "public"."system_logs" FOR INSERT TO "authenticated" WITH CHECK (("user_id" = ( SELECT "auth"."uid"() AS "uid")));
.audit\schema_local.sql:4531:CREATE POLICY "Users can delete own checkins" ON "public"."daily_checkins" FOR DELETE USING (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4535:CREATE POLICY "Users can delete own training plans" ON "public"."user_training_plans" FOR DELETE USING (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4539:CREATE POLICY "Users can insert own activities" ON "public"."daily_activities" FOR INSERT WITH CHECK (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4543:CREATE POLICY "Users can insert own checkins" ON "public"."daily_checkins" FOR INSERT WITH CHECK (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4547:CREATE POLICY "Users can insert own gamification" ON "public"."gamification" FOR INSERT WITH CHECK (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4551:CREATE POLICY "Users can insert own profile" ON "public"."user_profiles" FOR INSERT WITH CHECK (("auth"."uid"() = "id"));
.audit\schema_local.sql:4555:CREATE POLICY "Users can insert own redemption history" ON "public"."redemption_history" FOR INSERT WITH CHECK (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4559:CREATE POLICY "Users can insert own training plans" ON "public"."user_training_plans" FOR INSERT WITH CHECK (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4563:CREATE POLICY "Users can update own activities" ON "public"."daily_activities" FOR UPDATE USING (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4567:CREATE POLICY "Users can update own checkins" ON "public"."daily_checkins" FOR UPDATE USING (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4571:CREATE POLICY "Users can update own gamification" ON "public"."gamification" FOR UPDATE USING (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4575:CREATE POLICY "Users can update own missions" ON "public"."daily_missions" FOR UPDATE USING (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4579:CREATE POLICY "Users can update own profile" ON "public"."profiles" FOR UPDATE USING (("auth"."uid"() = "id")) WITH CHECK (("auth"."uid"() = "id"));
.audit\schema_local.sql:4583:CREATE POLICY "Users can update own profile" ON "public"."user_profiles" FOR UPDATE USING (("auth"."uid"() = "id"));
.audit\schema_local.sql:4587:CREATE POLICY "Users can update own training plans" ON "public"."user_training_plans" FOR UPDATE USING (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4591:CREATE POLICY "Users can view activity_tracking" ON "public"."activity_tracking" FOR SELECT USING (true);
.audit\schema_local.sql:4595:CREATE POLICY "Users can view conversation_history" ON "public"."conversation_history" FOR SELECT USING (true);
.audit\schema_local.sql:4599:CREATE POLICY "Users can view own activities" ON "public"."daily_activities" FOR SELECT USING (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4603:CREATE POLICY "Users can view own checkins" ON "public"."daily_checkins" FOR SELECT USING (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4607:CREATE POLICY "Users can view own gamification" ON "public"."gamification" FOR SELECT USING (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4611:CREATE POLICY "Users can view own missions" ON "public"."daily_missions" FOR SELECT USING (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4615:CREATE POLICY "Users can view own participation" ON "public"."user_event_participation" FOR SELECT USING (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4619:CREATE POLICY "Users can view own plans" ON "public"."user_plans" FOR SELECT USING (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4623:CREATE POLICY "Users can view own profile" ON "public"."profiles" FOR SELECT USING (("auth"."uid"() = "id"));
.audit\schema_local.sql:4627:CREATE POLICY "Users can view own profile" ON "public"."user_profiles" FOR SELECT USING (("auth"."uid"() = "id"));
.audit\schema_local.sql:4631:CREATE POLICY "Users can view own redemption history" ON "public"."redemption_history" FOR SELECT USING (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4635:CREATE POLICY "Users can view own referrals" ON "public"."referrals" FOR SELECT USING ((("auth"."uid"() = "referrer_id") OR ("auth"."uid"() = "referred_id")));
.audit\schema_local.sql:4639:CREATE POLICY "Users can view own subscription" ON "public"."billing_subscriptions" FOR SELECT USING (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4643:CREATE POLICY "Users can view own training plans" ON "public"."user_training_plans" FOR SELECT USING (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4647:CREATE POLICY "Users can view their own logs" ON "public"."system_logs" FOR SELECT TO "authenticated" USING (("user_id" = ( SELECT "auth"."uid"() AS "uid")));
.audit\schema_local.sql:4651:CREATE POLICY "Users can view user_achievements" ON "public"."user_achievements" FOR SELECT USING (true);
.audit\schema_local.sql:4655:CREATE POLICY "Users can view whatsapp_messages" ON "public"."whatsapp_messages" FOR SELECT USING (true);
.audit\schema_local.sql:4659:CREATE POLICY "Users own data" ON "public"."coach_user_state" USING (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4663:CREATE POLICY "Users own data" ON "public"."daily_metrics" USING (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4667:CREATE POLICY "Users own training plans" ON "public"."training_plans" USING (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:4671:CREATE POLICY "Usuarios podem atualizar seus próprios recursos" ON "public"."resources" FOR UPDATE TO "authenticated" USING (("owner_id" = "auth"."uid"())) WITH CHECK (("owner_id" = "auth"."uid"()));
.audit\schema_local.sql:4675:CREATE POLICY "Usuarios podem excluir seus próprios recursos" ON "public"."resources" FOR DELETE TO "authenticated" USING (("owner_id" = "auth"."uid"()));
.audit\schema_local.sql:4679:CREATE POLICY "Usuarios podem inserir seus próprios recursos" ON "public"."resources" FOR INSERT TO "authenticated" WITH CHECK (("owner_id" = "auth"."uid"()));
.audit\schema_local.sql:4683:CREATE POLICY "Usuarios podem visualizar seus próprios recursos ou recursos p" ON "public"."resources" FOR SELECT TO "authenticated" USING ("public"."auth_has_access_to_resource"("owner_id", "id", "permission"));
.audit\schema_local.sql:4687:CREATE POLICY "Usuários podem atualizar seu próprio perfil" ON "public"."profiles" FOR UPDATE TO "authenticated" USING ((( SELECT "auth"."uid"() AS "uid") = "id")) WITH CHECK ((( SELECT "auth"."uid"() AS "uid") = "id"));
.audit\schema_local.sql:4691:CREATE POLICY "Usuários podem atualizar seus próprios perfis" ON "public"."profiles" FOR UPDATE TO "authenticated" USING ((( SELECT "auth"."uid"() AS "uid") = "id")) WITH CHECK ((( SELECT "auth"."uid"() AS "uid") = "id"));
.audit\schema_local.sql:4695:CREATE POLICY "Usuários podem ver seu próprio perfil" ON "public"."profiles" FOR SELECT TO "authenticated" USING ((( SELECT "auth"."uid"() AS "uid") = "id"));
.audit\schema_local.sql:4699:CREATE POLICY "Usuários podem ver seus próprios perfis" ON "public"."profiles" FOR SELECT TO "authenticated" USING ((( SELECT "auth"."uid"() AS "uid") = "id"));
.audit\schema_local.sql:4727:CREATE POLICY "affiliates_select_all" ON "public"."affiliates" FOR SELECT USING (true);
.audit\schema_local.sql:4743:CREATE POLICY "ai_events_service" ON "public"."ai_events" USING (true) WITH CHECK (true);
.audit\schema_local.sql:4753:CREATE POLICY "ai_messages_service" ON "public"."ai_messages" USING (true) WITH CHECK (true);
.audit\schema_local.sql:4757:CREATE POLICY "ai_messages_service_all" ON "public"."ai_messages" TO "service_role" USING (true) WITH CHECK (true);
.audit\schema_local.sql:4764:CREATE POLICY "ai_read" ON "public"."ai_settings" FOR SELECT TO "authenticated" USING (true);
.audit\schema_local.sql:4771:CREATE POLICY "ai_settings admin write" ON "public"."ai_settings" TO "authenticated" USING ((EXISTS ( SELECT 1
.audit\schema_local.sql:4779:CREATE POLICY "ai_settings read" ON "public"."ai_settings" FOR SELECT USING (true);
.audit\schema_local.sql:4786:CREATE POLICY "ai_write_admin" ON "public"."ai_settings" TO "authenticated" USING ("public"."is_admin"()) WITH CHECK ("public"."is_admin"());
.audit\schema_local.sql:4814:CREATE POLICY "community_posts_public_read" ON "public"."community_posts" FOR SELECT USING (true);
.audit\schema_local.sql:4836:CREATE POLICY "emergency_access_user_profiles" ON "public"."user_profiles" USING (true) WITH CHECK (true);
.audit\schema_local.sql:4843:CREATE POLICY "error_logs_admin_only" ON "public"."error_logs" USING ((EXISTS ( SELECT 1
.audit\schema_local.sql:4879:CREATE POLICY "migrations_admin_only" ON "public"."supabase_migrations" USING ((EXISTS ( SELECT 1
.audit\schema_local.sql:4888:CREATE POLICY "p_insert_own" ON "public"."profiles" FOR INSERT WITH CHECK (("auth"."uid"() = "id"));
.audit\schema_local.sql:4892:CREATE POLICY "p_select_own" ON "public"."profiles" FOR SELECT USING (("auth"."uid"() = "id"));
.audit\schema_local.sql:4896:CREATE POLICY "p_update_own" ON "public"."profiles" FOR UPDATE USING (("auth"."uid"() = "id"));
.audit\schema_local.sql:4909:CREATE POLICY "plans_read_public" ON "public"."plans" FOR SELECT TO "authenticated", "anon" USING (true);
.audit\schema_local.sql:4922:CREATE POLICY "profiles_select_own" ON "public"."profiles" FOR SELECT USING (("auth"."uid"() = "id"));
.audit\schema_local.sql:4926:CREATE POLICY "profiles_update_own" ON "public"."profiles" FOR UPDATE USING (("auth"."uid"() = "id"));
.audit\schema_local.sql:4930:CREATE POLICY "public read plans" ON "public"."plans" FOR SELECT TO "anon" USING (true);
.audit\schema_local.sql:4934:CREATE POLICY "public read rewards" ON "public"."rewards" FOR SELECT TO "anon" USING (true);
.audit\schema_local.sql:4938:CREATE POLICY "public_read_plans" ON "public"."plans" FOR SELECT TO "anon" USING (true);
.audit\schema_local.sql:4942:CREATE POLICY "public_read_rewards" ON "public"."rewards" FOR SELECT TO "anon" USING (true);
.audit\schema_local.sql:4946:CREATE POLICY "read ai settings" ON "public"."ai_settings" FOR SELECT TO "authenticated" USING (true);
.audit\schema_local.sql:4950:CREATE POLICY "read_own_profile" ON "public"."profiles" FOR SELECT USING (("auth"."uid"() = "id"));
.audit\schema_local.sql:4966:CREATE POLICY "rewards_public_read" ON "public"."rewards" FOR SELECT USING (true);
.audit\schema_local.sql:4970:CREATE POLICY "rewards_read_public" ON "public"."rewards" FOR SELECT TO "authenticated", "anon" USING (true);
.audit\schema_local.sql:4974:CREATE POLICY "service_role_all_ai_conversations" ON "public"."ai_conversations" USING (("auth"."role"() = 'service_role'::"text"));
.audit\schema_local.sql:4978:CREATE POLICY "service_role_all_ai_interactions" ON "public"."ai_interactions" USING (("auth"."role"() = 'service_role'::"text"));
.audit\schema_local.sql:4982:CREATE POLICY "service_role_all_checkins" ON "public"."checkins" USING (("auth"."role"() = 'service_role'::"text"));
.audit\schema_local.sql:4986:CREATE POLICY "service_role_all_commissions" ON "public"."commissions" USING (("auth"."role"() = 'service_role'::"text"));
.audit\schema_local.sql:4990:CREATE POLICY "service_role_all_measurements" ON "public"."measurements" USING (("auth"."role"() = 'service_role'::"text"));
.audit\schema_local.sql:4994:CREATE POLICY "service_role_all_plan_days" ON "public"."plan_days" USING (("auth"."role"() = 'service_role'::"text"));
.audit\schema_local.sql:4998:CREATE POLICY "service_role_all_points_ledger" ON "public"."points_ledger" USING (("auth"."role"() = 'service_role'::"text"));
.audit\schema_local.sql:5017:CREATE POLICY "update_own_profile" ON "public"."profiles" FOR UPDATE USING (("auth"."uid"() = "id"));
.audit\schema_local.sql:5021:CREATE POLICY "user can read own sub" ON "public"."billing_subscriptions" FOR SELECT USING (("auth"."uid"() = "user_id"));
.audit\schema_local.sql:5046:CREATE POLICY "user_profiles_insert_policy" ON "public"."user_profiles" FOR INSERT WITH CHECK ((("auth"."uid"())::"text" = ("id")::"text"));
.audit\schema_local.sql:5050:CREATE POLICY "user_profiles_select_policy" ON "public"."user_profiles" FOR SELECT USING ((("auth"."uid"())::"text" = ("id")::"text"));
.audit\schema_local.sql:5054:CREATE POLICY "user_profiles_update_policy" ON "public"."user_profiles" FOR UPDATE USING ((("auth"."uid"())::"text" = ("id")::"text")) WITH CHECK ((("auth"."uid"())::"text" = ("id")::"text"));
.audit\schema_local.sql:5064:CREATE POLICY "users_service_read" ON "public"."users" FOR SELECT TO "service_role" USING (true);
.audit\schema_local.sql:5071:CREATE POLICY "webhook_logs_service_all" ON "public"."webhook_logs" TO "service_role" USING (true) WITH CHECK (true);

